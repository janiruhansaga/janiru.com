<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ඉතිහාස විෂය විවාදය: අන්තර්ක්‍රියාකාරී විශ්ලේෂණය</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Sinhala:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals (Stone/Slate) with Muted Blue/Teal Accents -->
    <!-- Application Structure Plan: A narrative-driven SPA starting with the core Pro/Con debate, revealing the 'real problem' as a pivot point, providing global context via an interactive chart, and concluding with clear, actionable recommendations. This structure guides the user from the surface-level debate to the report's deeper analysis and solution, enhancing understanding over a simple linear summary. -->
    <!-- Visualization & Content Choices: 1. Core Debate: Interactive cards (HTML/JS) to compare arguments directly. Goal: Compare. 2. Global View: Horizontal Bar Chart (Chart.js) to visualize different national strategies. Goal: Compare/Inform. Interaction: Click bar to show details. 3. Problem/Solution: Styled HTML/Tailwind with icons to organize and highlight key findings and recommendations. Goal: Inform/Organize. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans Sinhala', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .nav-link:hover, .nav-link.active {
            color: #0d9488; /* teal-600 */
            border-bottom-color: #0d9488;
        }
        .card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
    </style>
</head>
<body class="text-slate-800">

    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <h1 class="text-xl md:text-2xl font-bold text-teal-700">ඉතිහාසයේ අනාගතය</h1>
                <div class="hidden sm:flex items-center space-x-8">
                    <a href="#debate" class="nav-link text-slate-600 border-b-2 border-transparent pb-1">විවාදය</a>
                    <a href="#real-problem" class="nav-link text-slate-600 border-b-2 border-transparent pb-1">සැබෑ ගැටලුව</a>
                    <a href="#global" class="nav-link text-slate-600 border-b-2 border-transparent pb-1">ලෝක දැක්ම</a>
                    <a href="#solution" class="nav-link text-slate-600 border-b-2 border-transparent pb-1">විසඳුම</a>
                </div>
                <div class="sm:hidden">
                    <select id="mobile-nav" class="border border-slate-300 rounded-md p-2 bg-white text-slate-700">
                        <option value="#debate">විවාදය</option>
                        <option value="#real-problem">සැබෑ ගැටලුව</option>
                        <option value="#global">ලෝක දැක්ම</option>
                        <option value="#solution">විසඳුම</option>
                    </select>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">

        <section id="intro" class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">අ.පො.ස. (සා/පෙළ) ඉතිහාසය: අනිවාර්යද? විකල්පයක්ද?</h2>
            <p class="max-w-3xl mx-auto text-lg text-slate-600">
                ශ්‍රී ලංකාවේ අධ්‍යාපන ප්‍රතිසංස්කරණ හමුවේ, ඉතිහාසය විෂය අනිවාර්යභාවයෙන් ඉවත් කිරීමේ යෝජනාව දැඩි කතිකාවතක් නිර්මාණය කර ඇත. මෙම යෙදුම මගින් එම විවාදයේ දෙපස, එහි සැඟවුණු ගැඹුර සහ ඉදිරි මාවත ගවේෂණය කරයි.
            </p>
        </section>

        <div id="app-content">
            <section id="debate" class="content-section active">
                <div class="text-center mb-12">
                    <h3 class="text-2xl md:text-3xl font-bold text-slate-800">මතවාද දෙකක ගැටුම</h3>
                    <p class="mt-2 text-slate-500">යෝජනාවට පක්ෂ සහ විපක්ෂ ප්‍රධාන තර්ක ගවේෂණය කිරීමට අදාළ කාඩ්පත මත ක්ලික් කරන්න.</p>
                </div>

                <div class="grid md:grid-cols-2 gap-8 lg:gap-12">
                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <h4 class="text-2xl font-bold text-emerald-600 mb-4 text-center">වාසි (පක්ෂ තර්ක)</h4>
                        <div class="space-y-4">
                            <div class="card p-4 border border-emerald-200 rounded-lg cursor-pointer bg-emerald-50" onclick="showDetails('pro1')">
                                <h5 class="font-bold text-emerald-800">අධික බර අඩු කිරීම</h5>
                                <p class="text-sm text-emerald-700">සිසුන් මත පැටවී ඇති අධික අධ්‍යාපන බර අඩු කර, මානසික සහනයක් ලබා දීම.</p>
                            </div>
                            <div class="card p-4 border border-emerald-200 rounded-lg cursor-pointer bg-emerald-50" onclick="showDetails('pro2')">
                                <h5 class="font-bold text-emerald-800">'ප්‍රායෝගික' කුසලතා සඳහා ඉඩ</h5>
                                <p class="text-sm text-emerald-700">මූල්‍ය සාක්ෂරතාවය වැනි රැකියා වෙළඳපොළට අදාළ විෂයයන්ට ප්‍රමුඛත්වය දීම.</p>
                            </div>
                            <div class="card p-4 border border-emerald-200 rounded-lg cursor-pointer bg-emerald-50" onclick="showDetails('pro3')">
                                <h5 class="font-bold text-emerald-800">ගුණාත්මකභාවය පිළිබඳ ප්‍රශ්නය</h5>
                                <p class="text-sm text-emerald-700">වර්තමාන නීරස, පක්ෂග්‍රාහී විෂය නිර්දේශය අනිවාර්ය කිරීමේ තේරුමක් නොමැති බව.</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <h4 class="text-2xl font-bold text-rose-600 mb-4 text-center">අවාසි (විපක්ෂ තර්ක)</h4>
                        <div class="space-y-4">
                            <div class="card p-4 border border-rose-200 rounded-lg cursor-pointer bg-rose-50" onclick="showDetails('con1')">
                                <h5 class="font-bold text-rose-800">අනන්‍යතාවය අහිමි වීම</h5>
                                <p class="text-sm text-rose-700">ජාතියේ සාමූහික මතකය සහ අනන්‍යතාවය පිළිබඳ අවබෝධය නැති පරපුරක් බිහිවීම.</p>
                            </div>
                            <div class="card p-4 border border-rose-200 rounded-lg cursor-pointer bg-rose-50" onclick="showDetails('con2')">
                                <h5 class="font-bold text-rose-800">විවේචනාත්මක චින්තනය ඛාදනය</h5>
                                <p class="text-sm text-rose-700">සාක්ෂි කිරා මැන බැලීම වැනි විශ්ලේෂණ කුසලතා වර්ධනයට ඇති අවස්ථාව මගහැරීම.</p>
                            </div>
                            <div class="card p-4 border border-rose-200 rounded-lg cursor-pointer bg-rose-50" onclick="showDetails('con3')">
                                <h5 class="font-bold text-rose-800">සංහිඳියාවට බාධාවක්</h5>
                                <p class="text-sm text-rose-700">පශ්චාත්-ගැටුම්කාරී සමාජයකට අතීතයෙන් පාඩම් ඉගෙන ගැනීමට ඇති ඉඩ ඇහිරීම.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="real-problem" class="content-section">
                <div class="text-center mb-12">
                    <h3 class="text-2xl md:text-3xl font-bold text-slate-800">නමුත්, සැබෑ ගැටලුව මෙයද?</h3>
                    <p class="mt-2 text-slate-500 max-w-2xl mx-auto">වාර්තාවට අනුව, විවාදය වැරදි තැනක පවතී. ගැටලුව ඉතිහාසය විෂයයේ 'තත්ත්වය' නොව, එහි 'අන්තර්ගතය' සහ 'උගන්වන ක්‍රමයයි'.</p>
                </div>

                <div class="grid md:grid-cols-3 gap-8 text-center">
                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <div class="text-5xl mb-4 text-amber-500">📜</div>
                        <h4 class="text-xl font-bold mb-2">කටපාඩම් ක්‍රමය</h4>
                        <p class="text-slate-600">විෂය, විවේචනාත්මක විශ්ලේෂණයකින් තොරව, කරුණු, නම් සහ දිනයන් කටපාඩම් කරන නීරස අභ්‍යාසයක් බවට පත්වී ඇත.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <div class="text-5xl mb-4 text-red-500">⚔️</div>
                        <h4 class="text-xl font-bold mb-2">බෙදුම්වාදී ආඛ්‍යානය</h4>
                        <p class="text-slate-600">බහුතරවාදී දෘෂ්ටිකෝණයකින් ඉතිහාසය ලියා, සුළු ජාතීන් පරාරෝපණය කරමින්, ජාතික සමගියට හානි කරයි.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <div class="text-5xl mb-4 text-gray-400">🤫</div>
                        <h4 class="text-xl font-bold mb-2">උපායමාර්ගික අමතක වීම</h4>
                        <p class="text-slate-600">නූතන ශ්‍රී ලංකාව හැඩගැස්වූ මෑතකාලීන, වේදනාකාරී ඉතිහාසය (සිවිල් යුද්ධය, කැරලි) ක්‍රමානුකූලව මගහැර ඇත.</p>
                    </div>
                </div>
                 <p class="text-center mt-8 text-lg text-slate-700 bg-slate-100 p-4 rounded-lg">
                    එබැවින්, ගැටලුවට විසඳුම විෂය ඉවත් කිරීම නොව, එය රැඩිකල් ලෙස ප්‍රතිසංස්කරණය කිරීමයි.
                </p>
            </section>

            <section id="global" class="content-section">
                <div class="text-center mb-12">
                    <h3 class="text-2xl md:text-3xl font-bold text-slate-800">ගෝලීය මිණුම් සලකුණු</h3>
                    <p class="mt-2 text-slate-500">ලෝකයේ අනෙකුත් රටවල් ඉතිහාස අධ්‍යාපනයට මුහුණ දෙන ආකාරය බලන්න. වැඩි විස්තර සඳහා ප්‍රස්තාරයේ තීරුවක් මත ක්ලික් කරන්න.</p>
                </div>
                <div class="grid lg:grid-cols-5 gap-8">
                    <div class="lg:col-span-3">
                        <div class="chart-container bg-white p-4 rounded-xl shadow-lg">
                            <canvas id="globalChart"></canvas>
                        </div>
                    </div>
                    <div id="global-details" class="lg:col-span-2 bg-white p-6 rounded-xl shadow-lg flex items-center justify-center">
                        <p class="text-slate-500 text-center">ප්‍රස්තාරයෙන් රටක් තෝරන්න.</p>
                    </div>
                </div>
            </section>

            <section id="solution" class="content-section">
                 <div class="text-center mb-12">
                    <h3 class="text-2xl md:text-3xl font-bold text-slate-800">ඉදිරි මාවත: නිර්දේශිත විසඳුම</h3>
                    <p class="mt-2 text-slate-500 max-w-2xl mx-auto">වාර්තාව යෝජනා කරන්නේ විෂය ඉවත් කරනවා වෙනුවට, එය අර්ථවත් ලෙස ප්‍රතිසංස්කරණය කිරීමට පියවර පහකින් සමන්විත "තෙවන මාවතකි".</p>
                </div>
                <div class="space-y-6">
                    <div class="bg-white p-6 rounded-xl shadow-md flex items-start space-x-4">
                        <div class="text-3xl text-teal-600 bg-teal-100 p-3 rounded-full">1</div>
                        <div>
                            <h4 class="font-bold text-lg">අනිවාර්යභාවය පවත්වා ගැනීම</h4>
                            <p class="text-slate-600">පුරවැසි, බුද්ධිමය සහ සංහිඳියා ප්‍රතිලාභ සඳහා, සියලුම සිසුන්ට සාමාන්‍ය පෙළ දක්වා ඉතිහාසය මූලික විෂයක් ලෙස පවත්වා ගැනීම.</p>
                        </div>
                    </div>
                     <div class="bg-white p-6 rounded-xl shadow-md flex items-start space-x-4">
                        <div class="text-3xl text-teal-600 bg-teal-100 p-3 rounded-full">2</div>
                        <div>
                            <h4 class="font-bold text-lg">විෂය නිර්දේශය විප්ලවීය කිරීම</h4>
                            <p class="text-slate-600">ස්වාධීන, බහු-විෂය ක්ෂේත්‍ර කමිටුවක් හරහා, සියලු ප්‍රජාවන් ඇතුළත්, අවංක සහ සාක්ෂි-පදනම් වූ නව විෂය නිර්දේශයක් සැකසීම.</p>
                        </div>
                    </div>
                     <div class="bg-white p-6 rounded-xl shadow-md flex items-start space-x-4">
                        <div class="text-3xl text-teal-600 bg-teal-100 p-3 rounded-full">3</div>
                        <div>
                            <h4 class="font-bold text-lg">ඉගැන්වීම් ක්‍රමය පරිවර්තනය</h4>
                            <p class="text-slate-600">කටපාඩම් ක්‍රමයේ සිට, මූලාශ්‍ර විශ්ලේෂණය කරන, විවාද කරන, ගවේෂණ-පදනම් කරගත් ඉගෙනුම් ක්‍රමයකට මාරු වීම.</p>
                        </div>
                    </div>
                     <div class="bg-white p-6 rounded-xl shadow-md flex items-start space-x-4">
                        <div class="text-3xl text-teal-600 bg-teal-100 p-3 rounded-full">4</div>
                        <div>
                            <h4 class="font-bold text-lg">ඇගයීම් ක්‍රමය නවීකරණය</h4>
                            <p class="text-slate-600">මතකය වෙනුවට, විශ්ලේෂණ කුසලතා සහ තර්ක ගොඩනැගීමේ හැකියාව මනින විභාග ක්‍රමයක් හඳුන්වා දීම.</p>
                        </div>
                    </div>
                     <div class="bg-white p-6 rounded-xl shadow-md flex items-start space-x-4">
                        <div class="text-3xl text-teal-600 bg-teal-100 p-3 rounded-full">5</div>
                        <div>
                            <h4 class="font-bold text-lg">ගුරු සවිබල ගැන්වීම</h4>
                            <p class="text-slate-600">නව ක්‍රමවේද සහ සංවේදී මාතෘකා හැසිරවීම සඳහා ගුරුවරුන්ට අඛණ්ඩ පුහුණුවක් සහ සම්පත් ලබා දීම.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>
    
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-2xl p-6 w-full max-w-lg relative max-h-[80vh] overflow-y-auto">
            <button onclick="closeModal()" class="absolute top-2 right-2 text-slate-500 hover:text-slate-800 text-2xl">&times;</button>
            <div id="modal-content"></div>
        </div>
    </div>

    <footer class="text-center py-6 mt-12 border-t border-slate-200">
        <p class="text-sm text-slate-500">මූලාශ්‍රය: "ශ්‍රී ලංකාවේ අධ්‍යාපන ප්‍රතිසංස්කරණ: අ.පො.ස. (සාමාන්‍ය පෙළ) ඉතිහාසය විෂයයේ අනාගතය පිළිබඳ විවේචනාත්මක විශ්ලේෂණයක්" වාර්තාව.</p>
    </footer>

    <script>
        const detailsData = {
            pro1: {
                title: 'අධික බර අඩු කිරීම',
                text: 'ශ්‍රී ලංකාවේ පාසල් විෂය මාලාව, සිසුන් මත දැවැන්ත බරක් පටවන බවට ප්‍රබල තර්කයක් පවතී. මෙම ක්‍රමය, දැවැන්ත විෂය නිර්දේශයක් හුදෙක් කටපාඩම් කිරීම මත පදනම් වී ඇති අතර, එමගින් නිර්මාණශීලීත්වය සහ තාර්කික චින්තනය අඩපණ කරයි. මෙම අධික ශාස්ත්‍රීය බර, මානසික ආතතිය, විඩාව සහ විෂය සමගාමී ක්‍රියාකාරකම් සඳහා අවශ්‍ය කාලය අහිමි කිරීමට හේතු වේ. එබැවින්, ඉතිහාසය වැනි විෂයයන් තෝරාගැනීමේ විෂයක් බවට පත් කිරීම, ශිෂ්‍ය සුබසාධනය වැඩිදියුණු කිරීමට අවශ්‍ය පියවරක් ලෙස ඉදිරිපත් කෙරේ.'
            },
            pro2: {
                title: "'ප්‍රායෝගික' කුසලතා සඳහා ඉඩ",
                text: 'අධ්‍යාපන ක්‍රමය නූතන ආර්ථිකයේ අවශ්‍යතාවලට වඩාත් ප්‍රතිචාර දැක්විය යුතු බවට වන තර්කය ප්‍රබල ය. මූල්‍ය සාක්ෂරතාවය සහ ව්‍යවසායකත්වය වැනි විෂයයන් ඉතිහාසයට වඩා සිසුන්ගේ අනාගතයට ක්ෂණිකව ප්‍රයෝජනවත් වන බවට දැඩි ඉල්ලීම් පවතී. ඉංජිනේරු හෝ තොරතුරු තාක්ෂණ ශිෂ්‍යයෙකුට තම වෘත්තිය සඳහා ඉතිහාසය "අවශ්‍ය නොවන" බවට වන මතය මෙම දෘෂ්ටිකෝණය තුළ පොදුය. මෙම "ප්‍රයෝජ්‍යතාවාදී" තර්කය, ශ්‍රී ලංකාවේ ආර්ථික අවිනිශ්චිතතාවයට ක්ෂණික විසඳුම් සඳහා වන සමාජයීය ආශාවේ පිළිබිඹුවකි.'
            },
            pro3: {
                title: 'ගුණාත්මකභාවය පිළිබඳ ප්‍රශ්නය',
                text: 'වර්තමානයේ උගන්වනු ලබන ආකාරයේ ඉතිහාසය විෂය, අනිවාර්ය කිරීමට තරම් වටිනාකමක් නොමැති බවට තර්ක කෙරේ. වත්මන් විෂය නිර්දේශය දේශපාලන හා ආගමික කණ්ඩායම් විසින් තම වාසියට නැවත ලියා ඇති, පක්ෂග්‍රාහී එකක් බවටත්, බොහෝ සිසුන්ට නීරස සහ ආකර්ෂණීය නොවන, සංගත ආඛ්‍යානයකින් තොර කරුණු එකතුවක් බවටත් විවේචන එල්ල වේ. මෙම විෂය නිර්දේශය බහුතරවාදී ආඛ්‍යානයක් ප්‍රවර්ධනය කරමින් දේශපාලනිකව බෙදුම්වාදී බවට වන තර්කයද පවතී.'
            },
            con1: {
                title: 'අනන්‍යතාවය අහිමි වීම',
                text: 'ඉතිහාසය යනු පුද්ගල සහ ජාතික අනන්‍යතාවය ගොඩනැගීම සඳහා අත්‍යවශ්‍ය විෂයකි. එය සමාජයක "සාමූහික මතකය" ලෙස ක්‍රියා කරයි. පොදු අතීතයක් පිළිබඳ අවබෝධයකින් තොරව, සමාජයකට තම වර්තමාන තත්ත්වයන් හෝ මූලික සාරධර්ම තේරුම් ගත නොහැක. ඉතිහාසය විෂය තෝරාගැනීමේ විෂයක් බවට පත් කිරීමෙන්, අනාගත පරපුරට තම අනන්‍යතාවයේ මූලයන් සහ පුරවැසියෙකු ලෙස තම වගකීම් පිළිබඳ ගැඹුරු අවබෝධයක් අහිමි වීමේ අවදානමක් පවතී.'
            },
            con2: {
                title: 'විවේචනාත්මක චින්තනය ඛාදනය',
                text: 'ඉතිහාසය මගින් මිල කළ නොහැකි සහ ඕනෑම ක්ෂේත්‍රයකට මාරු කළ හැකි කුසලතා රැසක් උගන්වනු ලබයි: සාක්ෂි කිරා මැන බැලීම, තර්ක විමසා බැලීම, හේතුඵල සම්බන්ධතා අවබෝධ කර ගැනීම, සහ බහුවිධ දෘෂ්ටිකෝණවලින් සිදුවීම් විශ්ලේෂණය කිරීම ඒ අතර වේ. මෙම කුසලතා විද්‍යාඥයෙකුට, ඉංජිනේරුවෙකුට, වෛද්‍යවරයෙකුට හෝ ඕනෑම පුරවැසියෙකුට සෘජුවම අදාළ වේ. එය 21 වන සියවසට අත්‍යවශ්‍ය ඉහළ පෙළේ සංජානන කුසලතා වර්ධනය කරන බුද්ධිමය "ව්‍යායාම ශාලාවකි".'
            },
            con3: {
                title: 'සංහිඳියාවට බාධාවක්',
                text: 'බහු-වාර්ගික, පශ්චාත්-ගැටුම්කාරී සමාජයක, සියලු දෙනාට පොදු, ඇතුළත් කරගත් සහ අවංකව උගන්වනු ලබන ඉතිහාසයක්, සමගිය සහ සංහිඳියාව සඳහා වන අත්‍යවශ්‍ය මෙවලමකි. ජර්මනිය විසින් සමූලඝාතනය පිළිබඳ අධ්‍යාපනය අනිවාර්ය කිරීම මගින් අතීත වැරදි නැවත සිදු වීම වළක්වා ගැනීමට උත්සාහ කරයි. දුෂ්කර ඉතිහාසය මගහැරීම සාමයට මගක් නොව, තුවාල සුව නොවී පැසවීමට ඉඩ හැරීමකි.'
            }
        };

        const globalData = {
            'ජර්මනිය': {
                title: '🇩🇪 ජර්මනිය',
                approach: 'අනිවාර්යයි',
                goal: 'අතීතයට මුහුණ දීම සහ ප්‍රජාතන්ත්‍රවාදය ආරක්ෂා කිරීම.',
                relevance: 'පශ්චාත්-ගැටුම්කාරී සංහිඳියාව සඳහා ප්‍රබල ආදර්ශයකි. දුෂ්කර අතීතයක් (නාසි යුගය) නිර්මාණාත්මකව සහ අවංකව භාවිතා කරන ආකාරය පෙන්වයි.'
            },
            'දකුණු කොරියාව': {
                title: '🇰🇷 දකුණු කොරියාව',
                approach: 'නැවත අනිවාර්ය කරන ලදී',
                goal: 'ජාතික අනන්‍යතාවය ශක්තිමත් කිරීම.',
                relevance: 'ඉතිහාසය විකල්ප විෂයක් කිරීමේ විය හැකි සෘණාත්මක ප්‍රතිවිපාක (ඓතිහාසික දැනුම අඩුවීම) පිළිබඳ අනතුරු ඇඟවීමකි.'
            },
            'ෆින්ලන්තය': {
                title: '🇫🇮 ෆින්ලන්තය',
                approach: 'කුසලතාවක් ලෙස ඉගැන්වීම',
                goal: 'ඓතිහාසික චින්තන කුසලතා වර්ධනය කිරීම.',
                relevance: 'කටපාඩම් ක්‍රමයෙන් මිදී, විවේචනාත්මක චින්තනය සහ මූලාශ්‍ර විශ්ලේෂණය පදනම් කරගත් ඉගැන්වීම් ක්‍රමයක් සඳහා ආදර්ශයකි.'
            },
            'එක්සත් රාජධානිය': {
                title: '🇬🇧 එක්සත් රාජධානිය',
                approach: 'දෙමුහුන් ආකෘතිය',
                goal: 'සමබර ආඛ්‍යානයක් සහ විවිධ දෘෂ්ටිකෝණ.',
                relevance: 'නිශ්චිත වයසක් (14) දක්වා අනිවාර්ය කර, පසුව විකල්පයක් ලෙස ලබා දීම මගින්, අනිවාර්යභාවය සහ තෝරාගැනීමේ නිදහස අතර සම්මුතියක් ඇති කර ගත හැකි ආකාරය පෙන්වයි.'
            }
        };

        const modal = document.getElementById('modal');
        const modalContent = document.getElementById('modal-content');

        function showDetails(key) {
            const data = detailsData[key];
            if (data) {
                modalContent.innerHTML = `<h3 class="text-2xl font-bold mb-4 text-slate-800">${data.title}</h3><p class="text-slate-600 leading-relaxed">${data.text}</p>`;
                modal.classList.remove('hidden');
                modal.classList.add('flex');
            }
        }

        function closeModal() {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }
        
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.nav-link');
            const mobileNav = document.getElementById('mobile-nav');
            const sections = document.querySelectorAll('.content-section');

            function setActiveSection(hash) {
                sections.forEach(section => {
                    if ('#' + section.id === hash) {
                        section.classList.add('active');
                    } else {
                        section.classList.remove('active');
                    }
                });

                navLinks.forEach(link => {
                    if (link.getAttribute('href') === hash) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });
                
                if(mobileNav.value !== hash) {
                   mobileNav.value = hash;
                }
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const hash = link.getAttribute('href');
                    setActiveSection(hash);
                    window.location.hash = hash;
                });
            });
            
            mobileNav.addEventListener('change', (e) => {
                 const hash = e.target.value;
                 setActiveSection(hash);
                 window.location.hash = hash;
            });

            const initialHash = window.location.hash || '#debate';
            setActiveSection(initialHash);

            const ctx = document.getElementById('globalChart').getContext('2d');
            const globalChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: Object.keys(globalData),
                    datasets: [{
                        label: 'ඉතිහාස අධ්‍යාපන ක්‍රමවේදය',
                        data: [10, 9, 8, 7], 
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.7)',
                            'rgba(239, 68, 68, 0.7)',
                            'rgba(16, 185, 129, 0.7)',
                            'rgba(107, 114, 128, 0.7)'
                        ],
                        borderColor: [
                            'rgba(59, 130, 246, 1)',
                            'rgba(239, 68, 68, 1)',
                            'rgba(16, 185, 129, 1)',
                            'rgba(107, 114, 128, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            enabled: false
                        }
                    },
                    scales: {
                        x: {
                           display: false
                        },
                        y: {
                            ticks: {
                                font: {
                                    size: 14,
                                    family: "'Noto Sans Sinhala', sans-serif"
                                }
                            }
                        }
                    },
                    onClick: (event, elements) => {
                        if (elements.length > 0) {
                            const index = elements[0].index;
                            const countryName = globalChart.data.labels[index];
                            const data = globalData[countryName];
                            const detailsPane = document.getElementById('global-details');
                            detailsPane.innerHTML = `
                                <div class="text-left">
                                    <h4 class="text-2xl font-bold mb-3">${data.title}</h4>
                                    <p class="mb-2"><strong class="font-semibold text-slate-700">ක්‍රමවේදය:</strong> <span class="bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded">${data.approach}</span></p>
                                    <p class="mb-2"><strong class="font-semibold text-slate-700">ප්‍රධාන ඉලක්කය:</strong> ${data.goal}</p>
                                    <p class="mb-2"><strong class="font-semibold text-slate-700">ශ්‍රී ලංකාවට අදාළත්වය:</strong> ${data.relevance}</p>
                                </div>
                            `;
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
